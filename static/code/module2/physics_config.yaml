# Physics Configuration for Gazebo Simulation
# Reference values for humanoid robot simulation

# Timestep Configuration
physics:
  max_step_size: 0.001  # 1ms (1000 Hz)
  real_time_factor: 1.0  # Real-time simulation
  real_time_update_rate: 1000  # Hz

# Solver Configuration
solver:
  type: "quick"  # or "world" for more accuracy
  iters: 50  # Solver iterations (increase for stability)
  sor: 1.3  # Successive over-relaxation parameter

# Constraint Parameters
constraints:
  cfm: 0.0  # Constraint force mixing
  erp: 0.2  # Error reduction parameter
  contact_max_correcting_vel: 100.0  # m/s
  contact_surface_layer: 0.001  # meters

# Material Properties
materials:
  rubber_on_concrete:
    mu: 0.9  # Coefficient of friction
    mu2: 0.9
    slip1: 0.0
    slip2: 0.0
    kp: 10000000.0  # Contact stiffness (N/m)
    kd: 1000.0  # Contact damping (N*s/m)

  metal_on_metal:
    mu: 0.2
    mu2: 0.2
    kp: 15000000.0
    kd: 1500.0

  rubber_on_wood:
    mu: 0.7
    mu2: 0.7
    kp: 8000000.0
    kd: 800.0

# Joint Dynamics Defaults
joint_dynamics:
  large_joints:  # Hip, shoulder
    damping: 2.0  # N*m*s/rad
    friction: 1.0  # N*m

  medium_joints:  # Elbow, knee
    damping: 1.0
    friction: 0.5

  small_joints:  # Wrist, ankle
    damping: 0.3
    friction: 0.2

  fingers:
    damping: 0.05
    friction: 0.05

# Sensor Noise Parameters
sensors:
  camera:
    noise_stddev: 0.007  # Per-channel noise
    update_rate: 30  # Hz

  depth_camera:
    near_noise: 0.002  # meters at 0.5m
    far_noise: 0.040  # meters at 5m
    update_rate: 30

  lidar_2d:
    range_noise: 0.015  # meters
    update_rate: 10

  lidar_3d:
    range_noise: 0.025
    update_rate: 10

  imu:
    accel_noise: 0.01  # m/s²
    accel_bias: 0.05
    gyro_noise: 0.001  # rad/s
    gyro_bias: 0.0001
    update_rate: 100

  force_torque:
    force_noise: 0.1  # N
    torque_noise: 0.01  # N*m
    update_rate: 100

# Typical Humanoid Masses (kg)
humanoid_masses:
  total: 60.0
  torso: 20.0
  head: 2.5
  thigh: 4.0
  shin: 2.5
  foot: 1.0
  upper_arm: 2.0
  forearm: 1.5
  hand: 0.5

# Inertia Calculation Helpers
# For simple shapes - use these formulas

# Box inertia:
# Ixx = (1/12) * m * (h² + d²)
# Iyy = (1/12) * m * (w² + d²)
# Izz = (1/12) * m * (w² + h²)

# Cylinder inertia (axis along Z):
# Ixx = Iyy = (1/12) * m * (3*r² + h²)
# Izz = 0.5 * m * r²

# Sphere inertia:
# Ixx = Iyy = Izz = (2/5) * m * r²
